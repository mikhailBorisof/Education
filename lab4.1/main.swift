//
//  main.swift
//  lab4.1
//
//  Created by misha on 29.05.2022.
//
/*    --------------------------------------------------------    */
// –§—É–Ω–∫—Ü–∏–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
/** –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º */
func mainMenu() -> Int {
    print("\n ***   –ì–ª–∞–≤–Ω–æ–µ –ú–µ–Ω—é    ***\n")
    print(" –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –º–µ–Ω—é:")
    print (" üü¢(1) –í—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ F(x)\n       —Å —à–∞–≥–æ–º 0.01 –Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–∫–µ [-3 , 3]")
    print (" üü¢(2) –í—ã–≤–æ–¥ –∫–æ—Ä–Ω–µ–π —É—Ä–∞–≤–Ω–µ–Ω–∏—è F(x) = 0, \n       –≤—ã—á–µ—Å–ª–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–º –¥–∏—Ö–æ—Ç–æ–º–∏–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.0001")
    print (" üü¢(3) –í—ã–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ F(x)")
    print (" üü¢(4) –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n       –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.001\n       –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
    print (" üü¢(5) –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n       –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º —Ç—Ä–∞–ø–µ—Ü–∏–π —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.001\n       –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
    print (" üü¢(6) –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n       –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ\n       –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏,\n       –∑–∞–¥–∞–≤ –Ω–µ –º–µ–Ω–µ–µ 100 —Ç–æ—á–µ–∫ –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞.")
    print (" üü¢(7) –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏,\n       –≤—ã—á–µ—Å–ª–µ–Ω–Ω—ã—Ö –≤—Å–µ–º–∏ —Ç—Ä–µ–º—è –º–µ—Ç–æ–¥–∞–º–∏\n       –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
    print (" üü°(8) –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏ N")
    print (" üî¥(9) –í—ã—Ö–æ–¥ (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã) \n")
    return enterNumberUnsignedInt()
}
/** –§—É–Ω–∫—Ü–∏—è –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ N */
func enter_N() {
    repeat{
        print(" –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏ N\n –æ—Ç 1 –¥–æ 5 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ")
        N = Optional (enterNumberUnsignedInt())
        
        if N! < 1 || N! > 5 {
            print(" ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ!")
            N = nil
        }
    } while N == nil // –µ—Å–ª–∏ –≤–≤–æ–¥ –Ω–µ —É–¥–∞–ª—Å—è, –ø—Ä–æ—Å–∏–º –≤–≤–µ—Å—Ç–∏ —Å–Ω–æ–≤–∞
}
/** –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
func  helloUser() {
    print("\n Hello, Lab 4! \n  \n –í–∞—Ä–∏–∞–Ω—Ç N12")
    print(" –≠—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –º–µ–Ω—é\n –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –≤ –∑–∞–¥–∞–Ω–Ω–æ–º\n –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç–∞\n")
    shellCommandStart( labName: "lab4.1") //  —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞
}
/** –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã */
func goodByeUser() {
    print("\n –î–æ —Å–≤–∏–¥–∞–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –µ—â—ë!")
    shellCommandStop() // —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞
    print(" ", terminator: "") // terminator - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–æ–≥–æ, —á—Ç–æ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –ø–µ—á–∞—Ç–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ("\n")
}
/*    ------------ –°–∞–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –ø–æ —Å—É—Ç–∏ main() ------------    */
import Foundation
var N:Int? // –ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
private var resume: Bool = true // —Ñ–ª–∞–≥ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ª–∏ —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã
public let  limit_a = -3.0
public let  limit_b = 3.0
public let  H = 0.01 // —à–∞–≥
public var roots: [Double] // –º–∞—Å—Å–∏–≤ –∫–æ—Ä–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

helloUser() // –ø—Ä–∏–≤–µ—Ç—Å–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ
enter_N() // –≤–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ N
findRootsDichotomyMethod() // –ø–æ–∏—Å–∫ –∫–æ—Ä–Ω–µ–π –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ –∫–æ—Ä–Ω–µ–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤
/* -------- –ë–ª–æ–∫ –º–µ–Ω—é --------- */
repeat{
    switch mainMenu() {
    case 1:
        print (" üü¢ –í—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ F(x) —Å —à–∞–≥–æ–º 0.01 –≤ –ø—Ä–æ–º–µ–∂—É—Ç–∫–µ [-3 , 3]")
        print()
        funcValuesOnSegment()
    case 2:
        print (" üü¢ –í—ã–≤–æ–¥ –∫–æ—Ä–Ω–µ–π —É—Ä–∞–≤–Ω–µ–Ω–∏—è F(x) = 0 –º–µ—Ç–æ–¥–æ–º –¥–∏—Ö–æ—Ç–æ–º–∏–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.0001")
        print()
        showRootsDichotomyMethod()
    case 3:
        print (" üü¢ –í—ã–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ F(x)")
        print()
        countExtrema()
    case 4:
        print (" üü¢ –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n    –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.001\n    –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
        print()
        findRootsDichotomyMethod()
        rectanglesIntegrationMethod()
    case 5:
        print (" üü¢ –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n    –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º —Ç—Ä–∞–ø–µ—Ü–∏–π —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.001\n    –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
        print()
        findRootsDichotomyMethod()
        trapeziumIntegrationMethod()
    case 6:
        print (" üü¢ –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏,\n    –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ\n    –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏,\n    –∑–∞–¥–∞–≤ –Ω–µ –º–µ–Ω–µ–µ 100 —Ç–æ—á–µ–∫ –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞")
        findRootsDichotomyMethod()
        monteCarloIntegrationMethod()
    case 7:
        print (" üü¢ –í—ã–≤–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏,\n    –≤—ã—á–µ—Å–ª–µ–Ω–Ω—ã—Ö –≤—Å–µ–º–∏ —Ç—Ä–µ–º—è –º–µ—Ç–æ–¥–∞–º–∏\n    –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –∫–æ—Ä–Ω—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏")
        findRootsDichotomyMethod()
        monteCarloIntegrationMethod()
        print()
        rectanglesIntegrationMethod()
        print()
        trapeziumIntegrationMethod()
    case 8:
        print (" üü° –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫–∏–∏ N \n")
        enter_N() // –≤–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ N
    case 9:
        resume = false
        goodByeUser() // –≤—ã—Ö–æ–¥ - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    default:
        print(" ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 9!")
    }
} while resume
/*    ---------------------------------------    */
